<div [class]="bem.block()">
  @for (layout of getLayoutArr(); track layout) {
    <div
      [class]="bem.element('layout')"
      >
      @switch (layout) {
        @case ('pager') {
          <div
            [class]="bem.element('pager')"
            >
            <button
              [ngClass]="bem.element('navigator')"
              aui-button
              [disabled]="disabled || currentPage <= 1"
              (click)="navigate(-1)"
              >
              <aui-icon icon="angle_left"></aui-icon>
            </button>
            <button
              [ngClass]="bem.element('page')"
              [aui-button]="currentPage === 1 ? 'primary' : 'default'"
              [plain]="!(currentPage === 1)"
              [disabled]="disabled"
              (click)="jumpTo(1)"
              >
              1
            </button>
            @if (pageCount > 7 && currentPage > 4) {
              <button
                [ngClass]="bem.element('fast-navigator')"
                aui-button
                [disabled]="disabled"
                (click)="navigate(-5)"
                >
                <aui-icon icon="ellipsis_s"></aui-icon>
                <aui-icon icon="angles_left"></aui-icon>
              </button>
            }
            @for (page of getCenterPages(); track trackByIndex($index)) {
              <button
                [ngClass]="bem.element('page')"
                [aui-button]="currentPage === page ? 'primary' : 'default'"
                [plain]="!(currentPage === page)"
                [disabled]="disabled"
                (click)="jumpTo(page)"
                >
                {{ page }}
              </button>
            }
            @if (pageCount > 7 && currentPage < pageCount - 3) {
              <button
                [ngClass]="bem.element('fast-navigator')"
                aui-button
                [disabled]="disabled"
                (click)="navigate(5)"
                >
                <aui-icon icon="ellipsis_s"></aui-icon>
                <aui-icon icon="angles_right"></aui-icon>
              </button>
            }
            @if (pageCount > 1) {
              <button
                [ngClass]="bem.element('page')"
                [aui-button]="currentPage === pageCount ? 'primary' : 'default'"
                [plain]="!(currentPage === pageCount)"
                [disabled]="disabled"
                (click)="jumpTo(pageCount)"
                >
                {{ pageCount }}
              </button>
            }
            <button
              aui-button
              [ngClass]="bem.element('navigator')"
              [disabled]="disabled || currentPage >= pageCount"
              (click)="navigate(1)"
              >
              <aui-icon icon="angle_right"></aui-icon>
            </button>
          </div>
        }
        @case ('total') {
          <div
            [class]="bem.element('total')"
            >
            {{ intl.getTotalLabel(total || 0) }}
          </div>
        }
        @case ('sizes') {
          <div
            [class]="bem.element('sizes')"
            >
            <aui-select
              [disabled]="disabled"
              [value]="pageSize"
              [filterable]="false"
              (valueChange)="changePageSize($event)"
              >
              @for (size of pageSizeOptions; track size) {
                <aui-option
                  [value]="size"
                  >
                  {{ size }}
                </aui-option>
              }
            </aui-select>
            <span>{{ intl.itemsPerPageLabel }}</span>
          </div>
        }
        @case ('jumper') {
          <div
            [class]="bem.element('jumper')"
            >
            @if (intl.jumperLabelPrefix) {
              <span>{{ intl.jumperLabelPrefix }}</span>
            }
            <input
              aui-input
              type="number"
              min="1"
              [max]="pageCount"
              [value]="currentPage"
              [disabled]="disabled"
              (keydown)="onKeydown($event)"
              />
            @if (intl.jumperLabelSuffix) {
              <span>{{ intl.jumperLabelSuffix }}</span>
            }
          </div>
        }
        @case ('content') {
          <div
            [class]="bem.element('content')"
            >
            <ng-content></ng-content>
          </div>
        }
      }
    </div>
  }
</div>
