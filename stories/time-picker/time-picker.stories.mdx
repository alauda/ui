import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { moduleMetadata } from '@storybook/angular';
import { FormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';

import { ComponentSize, TimePickerModule } from '@alauda/ui';

<Meta
  title="TimePicker"
  decorators={[
    moduleMetadata({
      imports: [TimePickerModule, FormsModule, ReactiveFormsModule],
    }),
  ]}
/>

# TimePicker

时间选择器

## 基本

<Canvas>
  <Story name="Basic" height="400px">
    {{
      template: /* HTML */ `<aui-time-picker
          [(ngModel)]="time"
          [size]="csize.Small"
          placeholder="select time"
          required
        ></aui-time-picker>
        <br />
        Form value: {{time|json}}`,
      props: {
        time: Date.now(),
        csize: ComponentSize,
      },
    }}
  </Story>
</Canvas>

<Canvas>
  <Story name="Size" height="500px">
    {{
      template: /* HTML */ `
        Small
        <br />
        <aui-time-picker
          [(ngModel)]="time"
          [size]="csize.Small"
          placeholder="select time"
          required
        ></aui-time-picker>
        <br />
        <br />
        Medium
        <br />
        <aui-time-picker
          [(ngModel)]="time2"
          [size]="csize.Medium"
          placeholder="select time"
        ></aui-time-picker>
        <br />
        <br />
        Large
        <br />
        <aui-time-picker
          [(ngModel)]="time2"
          [size]="csize.Large"
          placeholder="select time"
        ></aui-time-picker>
      `,
      props: {
        time: Date.now(),
        time2: { hour: 2, minute: 10, second: 3 },
        csize: ComponentSize,
      },
    }}
  </Story>
</Canvas>

<Canvas>
  <Story name="Disabled" height="120px">
    {{
      template: /* HTML */ `
        <aui-time-picker
          [formControl]="time"
          [disabled]="true"
          [size]="csize.Small"
          placeholder="select time"
          required
        ></aui-time-picker>
      `,
      props: {
        time: new FormControl(Date.now()),
        csize: ComponentSize,
      },
    }}
  </Story>
</Canvas>

## TimePicker Inputs

| 名称           | 类型                                         | 默认值               | 描述                             |
| -------------- | -------------------------------------------- | -------------------- | -------------------------------- |
| format         | string                                       | 'HH:mm:ss'           | 日期格式                         |
| size           | ComponentSize                                | ComponentSize.Medium | input 大小                       |
| placeholder    | string                                       | -                    | 自定义 placeholder               |
| clearable      | boolean                                      | true                 | 可否清除                         |
| showIcon       | boolean                                      | true                 | 是否显示图标                     |
| hourStep       | number                                       | 1                    | 小时步长                         |
| minuteStep     | number                                       | 1                    | 分钟步长                         |
| secondStep     | number                                       | 1                    | 秒步长                           |
| footerTemplate | TemplateRef                                  | null                 | footer 模板，不传显示默认 footer |
| disableHours   | () => number[]                               | ()=>[]               | 禁用的小时                       |
| disableMinutes | (hour?: number) => number[]                  | ()=>[]               | 禁用的分钟                       |
| disableSeconds | (hour?: number, minute?: number) => number[] | ()=>[]               | 禁用的秒钟                       |

## TimePicker Outputs

| 名称       | 类型    | 默认值 | 描述                  |
| ---------- | ------- | ------ | --------------------- |
| openChange | boolean | -      | 打开或关闭事件 output |

### TimePicker 表单输入数据格式

`Dayjs.ConfigType | TimePickerModel`

### TimePicker 表单输出数据格式

`TimePickerModel`
