import { Meta, Preview, Story } from '@storybook/addon-docs/blocks';
import { moduleMetadata } from '@storybook/angular';

import { TooltipModule, ButtonModule } from '@alauda/ui';

<Meta
  title="Tooltip"
  decorators={[
    moduleMetadata({
      imports: [TooltipModule, ButtonModule],
    }),
  ]}
/>

# Tooltip

在弹出层显示文字等信息。

## 基础用法

<Preview>
  <Story name="basic" height="80px">
    {{
      template: `
        <div style="padding-top: 32px">
          <button
            aui-button="text"
            auiTooltip="默认提示"
          >
            默认提示
          </button>
          <button
            aui-button="text"
            auiTooltip="主要提示"
            auiTooltipType="primary"
          >
            主要提示
          </button>
          <button
            aui-button="text"
            auiTooltip="成功提示"
            auiTooltipType="success"
          >
            成功提示
          </button>
          <button
            aui-button="text"
            auiTooltip="警告提示"
            auiTooltipType="warning"
          >
            警告提示
          </button>
          <button
            aui-button="text"
            auiTooltip="错误提示"
            auiTooltipType="error"
          >
            危险提示
          </button>
          <button
            aui-button="text"
            auiTooltip="信息提示"
            auiTooltipType="info"
          >
            信息提示
          </button>
        </div>
      `,
    }}
  </Story>
</Preview>

## 弹出位置

<Preview>
  <Story name="position" height="240px">
    {{
      template: `
        <div class="container">
          <div class="center">
            <button
              aui-button="text"
              auiTooltip="top start"
              auiTooltipPosition="top start"
            >
              上左
            </button>
            <button
              aui-button="text"
              auiTooltip="top"
              auiTooltipPosition="top"
            >
              正上
            </button>
            <button
              aui-button="text"
              auiTooltip="top end"
              auiTooltipPosition="top end"
            >
              上右
            </button>
          </div>
          <div class="side">
            <button
              aui-button="text"
              auiTooltip="start top"
              auiTooltipPosition="start top"
            >
              左上
            </button>
            <button
              aui-button="text"
              auiTooltip="end top"
              auiTooltipPosition="end top"
            >
              右上
            </button>
          </div>
          <div class="side">
            <button
              aui-button="text"
              auiTooltip="start"
              auiTooltipPosition="start"
            >
              正左
            </button>
            <button
              aui-button="text"
              auiTooltip="end"
              auiTooltipPosition="end"
            >
              正右
            </button>
          </div>
          <div class="side">
            <button
              aui-button="text"
              auiTooltip="start bottom"
              auiTooltipPosition="start bottom"
            >
              左下
            </button>
            <button
              aui-button="text"
              auiTooltip="end bottom"
              auiTooltipPosition="end bottom"
            >
              右下
            </button>
          </div>
          <div class="center">
            <button
              aui-button="text"
              auiTooltip="bottom start"
              auiTooltipPosition="bottom start"
            >
              下左
            </button>
            <button
              aui-button="text"
              auiTooltip="bottom"
              auiTooltipPosition="bottom"
            >
              正下
            </button>
            <button
              aui-button="text"
              auiTooltip="bottom end"
              auiTooltipPosition="bottom end"
            >
              下右
            </button>
          </div>
        </div>
        <style>
          .container {
            margin: auto;
            padding-top: 32px;
            width: fit-content;
          }
          .side {
            display: flex;
            justify-content: space-between;
            width: 240px;
          }
          .center {
            display: flex;
            justify-content: center;
          }
          .container div + div {
            margin-top: 8px;
          }
        </style>
      `,
    }}
  </Story>
</Preview>

## 复杂内容

<Preview>
  <Story name="complex-content" height="120px">
    {{
      template: `
        <div style="padding: 64px 0 0 80px;">
          <button
            aui-button="primary"
            #tooltip="auiTooltip"
            [auiTooltip]="template"
            auiTooltipTrigger="click"
            auiTooltipType="info"
            auiTooltipPosition="top end"
          >
            点击删除
          </button>
          <ng-template #template>
            <div class="popper">
              确定要删除吗？
              <div class="footer">
                <button
                  aui-button="text"
                  size="mini"
                  (click)="tooltip.disposeTooltip()"
                >
                  取消
                </button>
                <button
                  aui-button="text"
                  size="mini"
                  (click)="tooltip.disposeTooltip()"
                >
                  确定
                </button>
              </div>
            </div>
          </ng-template>
        </div>
        <style>
          .popper {
            width: 120px;
          }
          .footer {
            margin-top: 8px;
            display: flex;
            justify-content: flex-end;
          }
        </style>
      `,
    }}
  </Story>
</Preview>

## Inputs

| 名称                  | 类型                 | 默认值               | 描述                         |
| --------------------- | -------------------- | -------------------- | ---------------------------- |
| auiTooltip            | string \| NgTemplate | -                    | 显示的文字或模板             |
| auiTooltipType        | TooltipType          | TooltipType.Default  | tooltip 类型                 |
| auiTooltipTrigger     | TooltipTrigger       | TooltipTrigger.Hover | 触发方式                     |
| auiTooltipPosition    | string               | 'top'                | 弹出位置                     |
| auiTooltipDisabled    | boolean              | false                | 是否禁用                     |
| auiTooltipHideOnClick | boolean              | false                | 点击弹出层时是否隐藏 tooltip |
| auiTooltipContext     | any                  | -                    | 模板上下文                   |
| auiTooltipClass       | string               | -                    | 添加到弹出层的类名           |

## Outputs

| 名称           | 回调参数 | 描述         |
| -------------- | -------- | ------------ |
| auiTooltipShow | void     | tooltip 打开 |
| auiTooltipHide | void     | tooltip 关闭 |

## Public Methods

| 名称           | 参数 | 描述                  |
| -------------- | ---- | --------------------- |
| createTooltip  | void | 打开 tooltip          |
| disposeTooltip | void | 关闭 tooltip          |
| toggleTooltip  | void | 切换 tooltip 开关状态 |
