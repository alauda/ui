(self.webpackChunk_alauda_ui=self.webpackChunk_alauda_ui||[]).push([[6320],{"./stories/theme/customize.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Customize:()=>Customize,__namedExportsOrder:()=>__namedExportsOrder,default:()=>customize_stories});var common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),animations=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),customize_componentngResource=__webpack_require__("./stories/theme/customize.component.scss?ngResource"),customize_componentngResource_default=__webpack_require__.n(customize_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),chroma=__webpack_require__("./node_modules/chroma-js/chroma.js"),chroma_default=__webpack_require__.n(chroma),FileSaver_min=__webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js");let CustomizeComponent=class CustomizeComponent{constructor(elRef){this.elRef=elRef,this.mainColors={primary:"#007af5",blue:"#007af5",green:"#00c261",yellow:"#f5a300",red:"#eb0027"},this.styleEl=document.createElement("style"),this.elRef.nativeElement.append(this.styleEl),this.updateColors()}updateColors(){this.schema=new ColorSchema(this.mainColors),this.styleEl.innerHTML=`.demo-container {${this.schema.toString()} }`}exportColors(){const colors=`:root {${this.schema.toString()} }`;(0,FileSaver_min.saveAs)(new Blob([colors],{type:"text/plain;charset=utf-8"}),"aui-colors.css")}exportScript(){const script=`(() => {\n  const themeDefinition = \`html[aui-theme-mode=custom] { ${this.schema.toString()} }\`;\n  \n  window.__NAV_ICON_CUSTOM_COLORS = {\n    main_active: '${this.schema.get("primary")}',\n    secondary_active: '${this.schema.get("p-3")}',\n    background_active: '${this.schema.get("p-5")}',\n  };\n\n  const htmlEl = document.querySelector('html');\n  const headEl = document.querySelector('head');\n  \n  const styleEl = document.createElement('style');\n  styleEl.innerHTML = themeDefinition;\n  \n  htmlEl.setAttribute('aui-theme-mode', 'custom');\n  headEl.appendChild(styleEl);\n  \n  localStorage.setItem('theme-mode', 'custom');\n})();\n`;(0,FileSaver_min.saveAs)(new Blob([script],{type:"text/plain;charset=utf-8"}),"override-theme.js")}static{this.ctorParameters=()=>[{type:core.ElementRef}]}};CustomizeComponent=(0,tslib_es6.Cg)([(0,core.Component)({template:'<h2>Select Colors:</h2>\n    <div class="picker-container">\n      <aui-form-item labelPosition="top">\n        <label auiFormItemLabel>Primary Color</label>\n        <aui-color-picker\n          auiFormItemControl\n          [(value)]="mainColors.primary"\n          (valueChange)="updateColors()"\n        ></aui-color-picker>\n      </aui-form-item>\n      <aui-form-item labelPosition="top">\n        <label auiFormItemLabel>Normal Status Color</label>\n        <aui-color-picker\n          auiFormItemControl\n          [(value)]="mainColors.blue"\n          (valueChange)="updateColors()"\n        ></aui-color-picker>\n      </aui-form-item>\n      <aui-form-item labelPosition="top">\n        <label auiFormItemLabel>Success Color</label>\n        <aui-color-picker\n          auiFormItemControl\n          [(value)]="mainColors.green"\n          (valueChange)="updateColors()"\n        ></aui-color-picker>\n      </aui-form-item>\n      <aui-form-item labelPosition="top">\n        <label auiFormItemLabel>Warning Color</label>\n        <aui-color-picker\n          auiFormItemControl\n          [(value)]="mainColors.yellow"\n          (valueChange)="updateColors()"\n        ></aui-color-picker>\n      </aui-form-item>\n      <aui-form-item labelPosition="top">\n        <label auiFormItemLabel>Danger Color</label>\n        <aui-color-picker\n          auiFormItemControl\n          [(value)]="mainColors.red"\n          (valueChange)="updateColors()"\n        ></aui-color-picker>\n      </aui-form-item>\n      <aui-form-item labelPosition="top">\n        <label auiFormItemLabel>Export Colors</label>\n        <button\n          aui-button\n          [square]="true"\n          (click)="exportColors()"\n        >\n          <aui-icon\n            icon="arrow_up_to_line"\n            [style.transform]="\'rotate(180deg)\'"\n          ></aui-icon>\n        </button>\n      </aui-form-item>\n      <aui-form-item labelPosition="top">\n        <label auiFormItemLabel>Export Script</label>\n        <button\n          aui-button\n          [square]="true"\n          (click)="exportScript()"\n        >\n          <aui-icon\n            icon="arrow_up_to_line"\n            [style.transform]="\'rotate(180deg)\'"\n          ></aui-icon>\n        </button>\n      </aui-form-item>\n    </div>\n\n    <div class="demo-container">\n      <h2>Examples:</h2>\n      <button aui-button>button</button>\n      <button aui-button="primary">button</button>\n      <button aui-button="success">button</button>\n      <button aui-button="warning">button</button>\n      <button aui-button="danger">button</button>\n      <br />\n      <br />\n      <input\n        aui-input\n        [style.width]="\'200px\'"\n        placeholder="input"\n      />\n    </div> ',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!1,styles:[customize_componentngResource_default()]})],CustomizeComponent);class ColorSchema{constructor(seed){this.prefix="  --aui-color",this.schema=Object.entries(seed).reduce(((schema,[name,value])=>(Object.assign(schema,this.calcColors(name,value)),schema)),{})}get(name){return this.schema[name]}toString(){return Object.entries(this.schema).reduce(((acc,[name,value])=>acc+`${this.prefix}-${name}: ${function auiColorVar(color){return chroma_default()(color).rgb().join(", ")}(value)};`),"")}calcColors(name,value){const shortName=name.charAt(0);return this.calcColorStack(value).reduce(((acc,curr,index)=>(acc[`${shortName}-${index}`]=curr,acc)),{[name]:value})}calcColorStack(value){const stack=[.15,.3,.4,.7,.8,.9,.95].map((v=>chroma_default().mix(value,"white",v,"rgb").hex()));return stack.unshift(chroma_default().mix(value,"black",.15,"rgb").hex()),stack}}var src=__webpack_require__("./src/index.ts");const customize_stories={title:"Example/Theme",component:CustomizeComponent,decorators:[(0,dist.moduleMetadata)({declarations:[CustomizeComponent],imports:[common.CommonModule,src.tmq,src.YG7,src.opy,src.x1Z,src.tHK,src.Ss0,animations.BrowserAnimationsModule]})]},Customize={name:"Customize"},__namedExportsOrder=["Customize"];Customize.parameters={...Customize.parameters,docs:{...Customize.parameters?.docs,source:{originalSource:"{\n  name: 'Customize'\n}",...Customize.parameters?.docs?.source}}}},"./stories/theme/customize.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".picker-container {\n  display: flex;\n}\n.picker-container aui-form-item + aui-form-item {\n  margin-left: 32px;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);